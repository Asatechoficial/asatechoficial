<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Asistente de Mantenimiento</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4f8;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .chat-container {
      width: 100%;
      max-width: 450px;
      height: 90vh;
      background: #ffffff;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      border-radius: 16px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-box {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .message {
      padding: 12px 16px;
      margin-bottom: 12px;
      border-radius: 12px;
      max-width: 80%;
      line-height: 1.4;
    }

    .user-message {
      background-color: #d1e7dd;
      align-self: flex-end;
    }

    .bot-message {
      background-color: #eaeaea;
      align-self: flex-start;
    }

    .input-box {
      display: flex;
      border-top: 1px solid #ccc;
      background: #f9f9f9;
    }

    .input-box input {
      flex: 1;
      padding: 14px;
      border: none;
      font-size: 16px;
      border-radius: 0;
      outline: none;
    }

    .input-box button {
      background-color: #4CAF50;
      color: white;
      padding: 0 20px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    .input-box button:hover {
      background-color: #45a049;
    }

    .quick-buttons {
      display: flex;
      flex-wrap: wrap;
      padding: 10px;
      gap: 8px;
      background-color: #f4f4f4;
      justify-content: center;
    }

    .quick-buttons button {
      background-color: #eee;
      border: none;
      padding: 8px 12px;
      font-size: 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    .quick-buttons button:hover {
      background-color: #d9ead3;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-box" id="chatBox">
      <div class="bot-message message">
        👋 ¡Hola! Soy tu asistente de mantenimiento. Puedes preguntarme sobre limpieza de PC, celulares, redes, impresoras, laptops o consejos generales.
      </div>
    </div>

    <div class="quick-buttons">
      <button onclick="quickTopic('limpiar computadora')">🧼 Limpieza</button>
      <button onclick="quickTopic('mantenimiento de celulares')">📱 Celulares</button>
      <button onclick="quickTopic('problemas de red')">🌐 Redes</button>
      <button onclick="quickTopic('impresora no imprime')">🖨️ Impresoras</button>
      <button onclick="quickTopic('consejos')">💡 Consejos</button>
    </div>

    <div class="input-box">
      <input type="text" id="userInput" placeholder="Escribe tu pregunta..." />
      <button onclick="sendMessage()">Enviar</button>
    </div>
  </div>

  <script>
    const faqData = [
      {
        keywords: [/tipos.*mantenimiento/i],
        response: `🔧 Tipos de mantenimiento:
1️⃣ Preventivo: limpieza y revisión periódica.
2️⃣ Correctivo: cuando ya hay fallas.
3️⃣ Predictivo: análisis para evitar fallos futuros.`
      },
      {
        keywords: [/cada cuánto.*limpiar/i, /frecuencia.*limpieza/i],
        response: `🧽 Se recomienda limpiar tu PC o laptop cada 3 a 6 meses, especialmente los ventiladores. Usa aire comprimido y evita líquidos.`
      },
      {
        keywords: [/no.*mantenimiento.*celular/i, /pasa.*no cuido.*celular/i],
        response: `⚠️ Si no mantienes tu celular, puede calentarse, ponerse lento, fallar la batería o dañarse el puerto de carga.`
      },
      {
        keywords: [/problema.*impresora/i, /impresora.*no imprime/i],
        response: `🖨️ Si tu impresora no imprime o tiene rayas, revisa los cartuchos, los cabezales y el software del controlador.`
      },
      {
        keywords: [/mantenimiento.*laptop/i, /cuidar.*portátil/i],
        response: `💻 Para mantener tu laptop:
- Limpia el ventilador
- Actualiza drivers
- Cambia pasta térmica cada 2 años
- Usa bases refrigerantes`
      },
      {
        keywords: [/wifi/i, /red.*lenta/i, /internet.*lento/i],
        response: `🌐 Tu Wi-Fi puede mejorar si:
- Ubicas el router en un lugar alto
- Usas la banda 5GHz
- Desconectas equipos no usados
- Cambias la contraseña cada cierto tiempo`
      },
      {
        keywords: [/consejos/i, /recomendaciones/i],
        response: `💡 Consejos generales:
- Actualiza tus equipos regularmente
- Usa antivirus confiables
- Evita sobrecalentamientos
- No ignores errores del sistema`
      },
      {
        keywords: [/hola/i, /buenas/i],
        response: `🙋‍♂️ ¡Hola! ¿Sobre qué mantenimiento necesitas ayuda? Puedo orientarte con laptops, redes, celulares, impresoras y más.`
      }
    ];

    function sendMessage() {
      const input = document.getElementById('userInput');
      const message = input.value.trim();
      if (!message) return;
      addMessage(message, 'user');
      getBotResponse(message);
      input.value = '';
    }

    function quickTopic(text) {
      document.getElementById('userInput').value = text;
      sendMessage();
    }

    function addMessage(text, sender) {
      const chatBox = document.getElementById('chatBox');
      const messageDiv = document.createElement('div');
      messageDiv.className = `${sender}-message message`;
      messageDiv.textContent = text;
      chatBox.appendChild(messageDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function getBotResponse(message) {
      const lowerMsg = message.toLowerCase();
      let found = false;

      for (const entry of faqData) {
        for (const pattern of entry.keywords) {
          if (pattern.test(lowerMsg)) {
            setTimeout(() => addMessage(entry.response, 'bot'), 500);
            found = true;
            break;
          }
        }
        if (found) break;
      }

      if (!found) {
        setTimeout(() => addMessage("🤔 No estoy seguro de eso aún. Intenta preguntarme sobre mantenimiento, limpieza o consejos tecnológicos.", 'bot'), 500);
      }
    }
  </script>
</body>
</html>
